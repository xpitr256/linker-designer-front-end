(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8ee3"],{"317f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-0"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("a",{staticClass:"black-text",attrs:{href:"#"},on:{click:function(t){return e.goToStep(1)}}},[e._v(e._s(e.$t("views.design.breadcrumb.step1")))])]),a("li",{staticClass:"breadcrumb-item"},[a("a",{staticClass:"black-text",attrs:{href:"#"},on:{click:e.getStepBack}},[e._v(e._s(e.$t("views.design.breadcrumb.step2InitialData")))])]),a("li",{staticClass:"breadcrumb-item active"},[e._v("\n        "+e._s(e.$t("views.design.breadcrumb.step3"))+"\n      ")])])]),a("h2",{staticClass:"h-light mt-5"},[a("span",{staticClass:"badge badge-secondary"},[e._v("3")]),e._v("\n    "+e._s(e.$t("views.design.rdStepFS"))+"\n  ")]),a("form",{staticClass:"mt-4",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-6"},[a("label",[e._v(e._s(e.$t("views.design.rdStepLabelFS1")))]),a("fasta-uploader",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"flankingSequence1",error:e.errors.first("flankingSequence1")},model:{value:e.flankingSequence1,callback:function(t){e.flankingSequence1=t},expression:"flankingSequence1"}}),a("fasta-validator",{attrs:{"fasta-file":e.flankingSequence1,id:"flankingSequence1","characters-in-line":50,"highlight-at-the-end":!0,"highlighted-characters-amount":100},on:{newFastaValidation:e.updateFormValidation}})],1),a("div",{staticClass:"form-group col-6"},[a("label",[e._v(e._s(e.$t("views.design.rdStepLabelFS2")))]),a("fasta-uploader",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"flankingSequence2",error:e.errors.first("flankingSequence2")},model:{value:e.flankingSequence2,callback:function(t){e.flankingSequence2=t},expression:"flankingSequence2"}}),a("fasta-validator",{attrs:{"fasta-file":e.flankingSequence2,id:"flankingSequence2","characters-in-line":50,"highlight-at-the-beginning":!0,"highlighted-characters-amount":100},on:{newFastaValidation:e.updateFormValidation}})],1)]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-3"},[a("label",[e._v(e._s(e.$t("views.design.rdStepDistanceFS")))]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:1|max_value:100|min_value:0.1",expression:"'required|decimal:1|max_value:100|min_value:0.1'"},{name:"model",rawName:"v-model",value:e.distance,expression:"distance"}],ref:"distance",staticClass:"form-control",class:{"is-invalid":e.errors.has("distance")},attrs:{type:"text",id:"distance",name:"distance",placeholder:e.$t("views.design.placeholder")},domProps:{value:e.distance},on:{keyup:e.onDistanceKeypress,input:[function(t){t.target.composing||(e.distance=t.target.value)},e.distanceChanged]}}),e._m(0),a("div",{staticClass:"invalid-feedback"},[e._v("\n            "+e._s(e.errors.first("distance"))+"\n          ")])])]),a("div",{staticClass:"form-group col-2"},[a("label",[e._v(e._s(e.$t("views.design.rdStepCalculatedLength")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.length,expression:"length"}],ref:"length",staticClass:"form-control",attrs:{name:"length",type:"text",readonly:""},domProps:{value:e.length},on:{input:function(t){t.target.composing||(e.length=t.target.value)}}})]),a("div",{staticClass:"form-group col-6"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"email",staticClass:"form-control",attrs:{placeholder:"Email",name:"email",type:"email"},domProps:{value:e.email},on:{keypress:e.onEnterKeypress,input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),a("div",{staticClass:"d-flex"},[a("div",[a("a",{staticClass:"btn btn-light",attrs:{href:"#"},on:{click:e.getStepBack}},[a("i",{staticClass:"fas fa-chevron-left"}),e._v(" "+e._s(e.$t("views.getBack"))+"\n        ")])]),a("div",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.errors.items.length>0},on:{click:e.next}},[e._v("\n          "+e._s(e.$t("views.design.next"))+"\n          "),a("i",{staticClass:"fas fa-chevron-right"})])])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon2"}},[e._v("â„«")])])}],s=(a("96cf"),a("3b8d")),r=a("cc01"),l=a("618c"),c=a("a460"),o=a("de5f"),u={name:"DesignFormStep6",components:{FastaValidator:l["a"],FastaUploader:r["a"]},methods:{getStepBack:function(){this.goToStep(3)},goToStep:function(e){this.$emit("goToNextStep",{nextStep:e})},updateFormValidation:function(e,t){t||this.errors.add({field:e,msg:"Please provide a fasta file according to the following suggestions"})},next:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validate();case 2:if(t=e.sent,!t){e.next=11;break}return e.next=6,c["a"].getFastaFileContent(this.flankingSequence1);case 6:return a=e.sent,e.next=9,c["a"].getFastaFileContent(this.flankingSequence2);case 9:n=e.sent,this.$emit("goToNextStep",{nextStep:"Final",formData:{stepFrom:6,email:this.email,distance:this.distance,initialSequence:{name:this.$t("views.design.noInitialSequence")},flankingSequence1:{name:c["a"].getSequenceName(a),value:c["a"].getFirstSequence(a)},flankingSequence2:{name:c["a"].getSequenceName(n),value:c["a"].getFirstSequence(n)}}});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(){this.next()},onDistanceKeypress:function(e){"Enter"===e.key?this.next():this.distanceChanged({data:this.distance})},distanceChanged:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.length=null,e.next=3,this.$validator.validate();case 3:if(this.errors.has("distance")||null===t.data){e.next=15;break}return e.prev=4,this.$Progress.start(),e.next=8,o["a"].calculateLength(this.distance);case 8:a=e.sent,this.length=a.length,this.$Progress.finish(),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](4);case 15:case"end":return e.stop()}},e,this,[[4,13]])}));function t(t){return e.apply(this,arguments)}return t}(),onEnterKeypress:function(e){"Enter"===e.key&&this.next()}},data:function(){return{flankingSequence1:null,flankingSequence2:null,email:null,distance:null,length:null}}},d=u,m=a("2877"),g=Object(m["a"])(d,n,i,!1,null,"62e328b6",null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0b8ee3.77f3a27b.js.map